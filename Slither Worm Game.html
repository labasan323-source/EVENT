<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Slither Worm Game</title>
<style>
  body {
    background: black;
    color: white;
    font-family: sans-serif;
    text-align: center;
    margin: 0;
    padding: 0;
  }
  canvas {
    background: #111;
    display: block;
    margin: 20px auto;
    border: 2px solid #555;
  }
  #controls {
    margin-top: 10px;
  }
  button {
    padding: 8px 15px;
    margin: 5px;
    font-size: 16px;
    cursor: pointer;
    border: none;
    border-radius: 5px;
  }
  .easy { background: green; color: white; }
  .medium { background: orange; color: white; }
  .hard { background: red; color: white; }
  
  #overlay {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.85);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: red;
    font-size: 40px;
    font-weight: bold;
    display: none;
  }
  #overlay h1 {
    margin: 0;
    font-size: 60px;
  }
  #overlay p {
    font-size: 24px;
    margin-top: 10px;
    color: white;
  }
  #overlay button {
    margin-top: 20px;
    padding: 10px 20px;
    font-size: 18px;
    background: limegreen;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
  #overlay button:hover {
    background: green;
  }
</style>
</head>
<body>

<h1>Slither Worm Game</h1>
<p>Use Arrow Keys or WASD to move. Eat the red squares!</p>
<div id="controls">
  <button class="easy" onclick="startGame(300)">Easy</button>
  <button class="medium" onclick="startGame(200)">Medium</button>
  <button class="hard" onclick="startGame(150)">Hard</button>
</div>
<canvas id="game" width="400" height="400"></canvas>
<h2 id="score">Score: 0</h2>

<!-- Game Over Overlay -->
<div id="overlay">
  <h1>GAME OVER</h1>
  <p id="finalScore"></p>
  <button onclick="restartGame()">Restart</button>
</div>

<script>
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');
const overlay = document.getElementById('overlay');
const finalScoreEl = document.getElementById('finalScore');

const gridSize = 20;
const tileCount = canvas.width / gridSize;

let snake = [{x: 10, y: 10}];
let food = {x: 5, y: 5};
let dx = 0;
let dy = 0;
let score = 0;
let gameInterval;
let gameSpeed = 100;

function gameLoop() {
  const head = {x: snake[0].x + dx, y: snake[0].y + dy};
  snake.unshift(head);

  if (head.x === food.x && head.y === food.y) {
    score++;
    document.getElementById('score').textContent = "Score: " + score;
    placeFood();
  } else {
    snake.pop();
  }

  // Collision detection
  if (head.x < 0 || head.x >= tileCount || head.y < 0 || head.y >= tileCount) {
    gameOver();
  }
  for (let i = 1; i < snake.length; i++) {
    if (head.x === snake[i].x && head.y === snake[i].y) {
      gameOver();
    }
  }

  // Draw game
  ctx.fillStyle = "#111";
  ctx.fillRect(0, 0, canvas.width, canvas.height);

  ctx.fillStyle = "lime";
  snake.forEach(part => {
    ctx.fillRect(part.x * gridSize, part.y * gridSize, gridSize - 2, gridSize - 2);
  });

  ctx.fillStyle = "red";
  ctx.fillRect(food.x * gridSize, food.y * gridSize, gridSize - 2, gridSize - 2);
}

function placeFood() {
  food.x = Math.floor(Math.random() * tileCount);
  food.y = Math.floor(Math.random() * tileCount);
}

function gameOver() {
  clearInterval(gameInterval);
  finalScoreEl.textContent = "Your Score: " + score;
  overlay.style.display = "flex";
}

function restartGame() {
  overlay.style.display = "none";
  snake = [{x: 10, y: 10}];
  dx = 0;
  dy = 0;
  score = 0;
  document.getElementById('score').textContent = "Score: 0";
  placeFood();
  gameInterval = setInterval(gameLoop, gameSpeed);
}

function startGame(speed) {
  clearInterval(gameInterval);
  gameSpeed = speed;
  restartGame();
}

document.addEventListener('keydown', e => {
  const key = e.key.toLowerCase();
  if ((key === 'arrowup' || key === 'w') && dy !== 1) {
    dx = 0; dy = -1;
  } else if ((key === 'arrowdown' || key === 's') && dy !== -1) {
    dx = 0; dy = 1;
  } else if ((key === 'arrowleft' || key === 'a') && dx !== 1) {
    dx = -1; dy = 0;
  } else if ((key === 'arrowright' || key === 'd') && dx !== -1) {
    dx = 1; dy = 0;
  }
});
</script>

</body>
</html>


